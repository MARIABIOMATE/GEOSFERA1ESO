<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Geosfera - Aplicación Educativa</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            color: #333;
            line-height: 1.8;
            font-size: 18px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: linear-gradient(135deg, #4fc3f7 0%, #29b6f6 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(135deg, #81c784 0%, #66bb6a 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #ff7043 0%, #ff5722 100%);
        }

        .section {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .section.active {
            display: block;
        }

        .content-section h2 {
            color: #1976d2;
            font-size: 2.2em;
            margin-bottom: 25px;
            text-align: center;
            border-bottom: 4px solid #4fc3f7;
            padding-bottom: 15px;
        }

        .content-section h3 {
            color: #388e3c;
            font-size: 1.6em;
            margin: 25px 0 20px 0;
            padding: 15px;
            background: #e8f5e8;
            border-radius: 10px;
            border-left: 5px solid #4caf50;
        }

        .info-box {
            background: #f0f8ff;
            border: 3px solid #4fc3f7;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
            font-size: 1.1em;
        }

        .info-box strong {
            color: #1976d2;
            font-size: 1.1em;
        }

        .dato-curioso {
            background: #fff3e0;
            border: 3px solid #ff9800;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-size: 1.1em;
        }

        .dato-curioso::before {
            content: "💡 Dato curioso: ";
            font-weight: bold;
            color: #f57c00;
            font-size: 1.2em;
        }

        .layers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .layer-card {
            background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%);
            border: 3px solid #4caf50;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .layer-card:hover {
            transform: scale(1.05);
        }

        .layer-card h4 {
            color: #2e7d32;
            font-size: 1.4em;
            margin-bottom: 15px;
        }

        .layer-card p {
            font-size: 1.05em;
            line-height: 1.6;
        }

        .picto-img {
            width: 100px;
            height: 100px;
            margin: 10px auto;
            display: block;
            object-fit: contain;
        }

        .pictogram {
            width: 90px;
            height: 90px;
            margin: 12px;
            border: 3px solid #ccc;
            border-radius: 12px;
            background: white;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: grab;
            transition: all 0.3s ease;
            padding: 8px;
            user-select: none;
        }

        .pictogram img {
            max-width: 75px;
            max-height: 75px;
            object-fit: contain;
        }

        .pictogram:hover {
            border-color: #4caf50;
            transform: scale(1.1);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .pictogram.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .drop-zone {
            width: 95px;
            height: 75px;
            border: 3px dashed #ccc;
            border-radius: 12px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin: 8px;
            background: #f9f9f9;
            transition: all 0.3s ease;
            vertical-align: middle;
        }

        .drop-zone img {
            max-width: 70px;
            max-height: 65px;
            object-fit: contain;
        }

        .drop-zone.drag-over {
            border-color: #4caf50;
            background: #e8f5e8;
            transform: scale(1.05);
        }

        .drop-zone.correct {
            border-color: #4caf50;
            background: #c8e6c9;
            border-style: solid;
        }

        .drop-zone.incorrect {
            border-color: #f44336;
            background: #ffcdd2;
            border-style: solid;
        }

        .question-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            border-left: 6px solid #4caf50;
        }

        .question {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 25px;
            color: #2e7d32;
        }

        .pictogram-bank {
            background: #e3f2fd;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            border: 2px solid #4fc3f7;
        }

        .pictogram-bank h4 {
            color: #1565c0;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .sentence {
            font-size: 1.2em;
            line-height: 2.5;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 12px;
            border: 3px solid #e0e0e0;
        }

        .input-box {
            display: inline-block;
            min-width: 150px;
            padding: 8px 12px;
            border: 2px solid #ccc;
            border-radius: 8px;
            font-size: 1.1em;
            margin: 0 5px;
            vertical-align: middle;
        }

        .input-box.correct {
            border-color: #4caf50;
            background: #c8e6c9;
        }

        .input-box.incorrect {
            border-color: #f44336;
            background: #ffcdd2;
        }

        .feedback {
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            font-weight: bold;
            text-align: center;
            font-size: 1.2em;
            display: none;
        }

        .feedback.success {
            background: #c8e6c9;
            color: #2e7d32;
            border: 3px solid #4caf50;
        }

        .feedback.error {
            background: #ffcdd2;
            color: #c62828;
            border: 3px solid #f44336;
        }

        .check-btn {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            margin: 20px 10px;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .check-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .reset-btn {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            margin: 20px 10px;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .progress-bar {
            background: #e0e0e0;
            border-radius: 25px;
            height: 30px;
            margin: 25px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 25px;
        }

        .score {
            text-align: center;
            font-size: 1.4em;
            font-weight: bold;
            color: #2e7d32;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav-btn {
                padding: 12px 20px;
                font-size: 16px;
            }
            
            .layers-grid {
                grid-template-columns: 1fr;
            }

            .sentence {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🌍 LA GEOSFERA 🌍</h1>
            <p>Aprende sobre la parte sólida de nuestro planeta</p>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn active" onclick="showSection('introduccion')">Introducción</button>
            <button class="nav-btn" onclick="showSection('metodos')">Métodos de Estudio</button>
            <button class="nav-btn" onclick="showSection('capas')">Capas de la Tierra</button>
            <button class="nav-btn" onclick="showSection('actividad1')">Actividad 1: Pictogramas</button>
            <button class="nav-btn" onclick="showSection('actividad2')">Actividad 2: Escribir</button>
            <button class="nav-btn" onclick="showSection('actividad3')">Actividad 3: Test</button>
        </div>

        <!-- Sección Introducción -->
        <div id="introduccion" class="section content-section active">
            <h2>¿Qué es la Geosfera?</h2>
            
            <div class="info-box">
                <p><strong>La geosfera es la parte sólida de la Tierra.</strong></p>
                <div style="display: flex; justify-content: center; align-items: center; gap: 20px; margin: 15px 0;">
                    <img src="roca.png" class="picto-img" alt="Roca">
                    <img src="tierra_capas.png" class="picto-img" alt="Tierra">
                </div>
                <p>Es donde pisamos, las montañas, las rocas... ¡Todo lo sólido que nos rodea!</p>
            </div>

            <h3>La Superficie de la Tierra</h3>
            <p>Nuestra planeta está formado por dos partes principales:</p>

            <div class="layers-grid">
                <div class="layer-card">
                    <h4>OCÉANOS</h4>
                    <div style="display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap;">
                        <img src="ola.png" class="picto-img" alt="Océano">
                        <img src="agua.png" class="picto-img" alt="Agua">
                    </div>
                    <p><strong>Formados por:</strong> Agua</p>
                    <p><strong>Cubren:</strong> 70% de la Tierra</p>
                </div>

                <div class="layer-card">
                    <h4>CONTINENTES</h4>
                    <div style="display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap;">
                        <img src="continentes.png" class="picto-img" alt="Continentes">
                        <img src="montana.png" class="picto-img" alt="Montaña">
                    </div>
                    <p><strong>Formados por:</strong> Grandes masas de tierra</p>
                    <p><strong>Cubren:</strong> 30% de la Tierra</p>
                </div>
            </div>

            <div class="dato-curioso">
                La mayoría de los continentes están en el Hemisferio Norte
                <img src="hemisferio_norte.png" class="picto-img" alt="Hemisferio Norte">
            </div>
        </div>

        <!-- Sección Métodos -->
        <div id="metodos" class="section content-section">
            <h2>¿Cómo conocemos el interior de la Tierra?</h2>

            <div class="info-box">
                <img src="tierra_abierta.png" class="picto-img" alt="Tierra abierta">
                <p><strong>Dato importante:</strong> El centro de la Tierra está a más de 6.000 km de profundidad.</p>
                <p><strong>Radio de la Tierra:</strong> 6.370 km</p>
            </div>

            <h3>MÉTODOS DIRECTOS</h3>
            <p><em>(Los que podemos TOCAR y VER)</em></p>

            <div class="layers-grid">
                <div class="layer-card">
                    <h4>Erupciones Volcánicas</h4>
                    <img src="volcan.png" class="picto-img" alt="Volcán">
                    <img src="volcan_erupcion.png" class="picto-img" alt="Volcán en erupción">
                    <p>Un volcán entra en erupción y expulsa rocas y materiales del interior.</p>
                </div>

                <div class="layer-card">
                    <h4>Sondeos y Minas</h4>
                    <img src="minas.png" class="picto-img" alt="Minas">
                    <p>Hacemos agujeros muy profundos para sacar rocas y minerales.</p>
                    <p><small>El agujero más profundo: 12 km</small></p>
                </div>

                <div class="layer-card">
                    <h4>Erosión</h4>
                    <img src="viento.png" class="picto-img" alt="Viento">
                    <img src="lluvia.png" class="picto-img" alt="Lluvia">
                    <p>El viento y la lluvia desgastan las montañas y dejan ver rocas que estaban muy abajo.</p>
                </div>
            </div>

            <h3>MÉTODOS INDIRECTOS</h3>
            <p><em>(Los que NO podemos ver, pero sí sentir y estudiar)</em></p>

            <div class="info-box">
                <h4>Método Sísmico: Estudio de las ondas sísmicas</h4>
                
                <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap; margin: 20px 0;">
                    <img src="terremoto.png" style="width: 100px; height: 100px; object-fit: contain;" alt="Terremoto">
                    <img src="tierra_abierta.png" style="width: 100px; height: 100px; object-fit: contain;" alt="Tierra">
                    <img src="ondas.png" style="width: 100px; height: 100px; object-fit: contain;" alt="Ondas sísmicas">
                </div>
                
                <p>Los terremotos hacen que la Tierra vibre. Estas vibraciones son las <strong>ondas sísmicas</strong>.</p>
                
                <div style="text-align: center; margin: 15px 0;">
                    <img src="ondas.png" style="width: 100px; height: 100px; object-fit: contain; margin: 5px;" alt="Ondas sísmicas">
                </div>
                
                <p>Cuando las rocas del interior se rompen o se mueven, se produce un terremoto.</p>
                <p>Según cómo viajan esas ondas, los científicos descubren si hay roca dura, blanda o líquida.</p>
            </div>
        </div>

        <!-- Sección Capas -->
        <div id="capas" class="section content-section">
            <h2>Las Capas de la Tierra</h2>

            <div style="text-align: center; margin: 30px 0;">
                <img src="capas_tierra.png" style="max-width: 400px; width: 100%;" alt="Capas de la Tierra">
            </div>

            <div class="layers-grid">
                <div class="layer-card">
                    <h4>LA CORTEZA</h4>
                    <img src="tierra_feliz.png" class="picto-img" alt="Corteza">
                    <p><strong>Ubicación:</strong> Parte exterior de la Tierra</p>
                    <p><strong>Grosor:</strong> <img src="profundidad.png" style="width: 40px; vertical-align: middle;" alt="Profundidad"> 6 a 70 km</p>
                    <p><strong>Tipos:</strong></p>
                    <ul style="text-align: left;">
                        <li>Continental (Granito) <img src="granito.png" style="width: 40px; vertical-align: middle;" alt="Granito"></li>
                        <li>Oceánica (Basalto) <img src="basalto.png" style="width: 40px; vertical-align: middle;" alt="Basalto"></li>
                    </ul>
                </div>

                <div class="layer-card">
                    <h4>EL MANTO</h4>
                    <img src="tierra_corte.png" class="picto-img" alt="Manto">
                    <p><strong>Profundidad:</strong> <img src="profundidad.png" style="width: 40px; vertical-align: middle;" alt="Profundidad"> Hasta 2.900 km</p>
                    <p><strong>Temperatura:</strong> <img src="termometro.png" style="width: 40px; vertical-align: middle;" alt="Temperatura"> 600°C a 3.500°C</p>
                    <p><strong>Composición:</strong> Rocas sólidas muy densas</p>
                    <img src="roca.png" class="picto-img" alt="Roca">
                </div>

                <div class="layer-card">
                    <h4>EL NÚCLEO</h4>
                    <img src="corazon.png" class="picto-img" alt="Corazón">
                    <p><strong>Descripción:</strong> Es el corazón de la Tierra</p>
                    <p><strong>Temperatura:</strong> <img src="termometro.png" style="width: 40px; vertical-align: middle;" alt="Temperatura"> 4.000°C a 5.500°C</p>
                    <p><strong>Partes:</strong></p>
                    <ul style="text-align: left;">
                        <li>Núcleo externo: LÍQUIDO <img src="gota.png" style="width: 30px; vertical-align: middle;" alt="Líquido"></li>
                        <li>Núcleo interno: SÓLIDO</li>
                    </ul>
                    <p><strong>Composición:</strong> Hierro (Fe) y Níquel (Ni)</p>
                    <img src="hierro.png" class="picto-img" alt="Hierro">
                </div>
            </div>
        </div>

        <!-- Actividad 1: Arrastrar Pictogramas -->
        <div id="actividad1" class="section content-section">
            <h2>Actividad 1: Arrastra los Pictogramas</h2>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill1"></div>
            </div>
            <div class="score" id="scoreDisplay1">Puntuación: 0/7</div>

            <div class="question-container">
                <div class="question">Completa las frases arrastrando los pictogramas correctos</div>
                
                <div class="pictogram-bank">
                    <h4>Banco de Pictogramas</h4>
                    <div class="pictogram" draggable="true" data-answer="roca">
                        <img src="roca.png" alt="Roca">
                    </div>
                    <div class="pictogram" draggable="true" data-answer="agua">
                        <img src="agua.png" alt="Agua">
                    </div>
                    <div class="pictogram" draggable="true" data-answer="arena">
                        <img src="arena.png" alt="Arena/Tierra">
                    </div>
                    <div class="pictogram" draggable="true" data-answer="volcan">
                        <img src="volcan.png" alt="Volcán">
                    </div>
                    <div class="pictogram" draggable="true" data-answer="minas">
                        <img src="minas.png" alt="Minas">
                    </div>
                    <div class="pictogram" draggable="true" data-answer="viento">
                        <img src="viento.png" alt="Viento">
                    </div>
                    <div class="pictogram" draggable="true" data-answer="tierra">
                        <img src="tierra_feliz.png" alt="Tierra">
                    </div>
                </div>

                <div class="sentence">
                    1. La geosfera es la parte sólida formada por <div class="drop-zone" data-correct="roca"></div>
                </div>

                <div class="sentence">
                    2. Los océanos están formados por <div class="drop-zone" data-correct="agua"></div> y cubren el 70%.
                </div>

                <div class="sentence">
                    3. Los continentes tienen grandes masas de <div class="drop-zone" data-correct="arena"></div>
                </div>

                <div class="sentence">
                    4. Los <div class="drop-zone" data-correct="volcan"></div> expulsan rocas del interior.
                </div>

                <div class="sentence">
                    5. Las <div class="drop-zone" data-correct="minas"></div> nos permiten sacar rocas profundas.
                </div>

                <div class="sentence">
                    6. La erosión es causada por el <div class="drop-zone" data-correct="viento"></div> y la lluvia.
                </div>

                <div class="sentence">
                    7. La <div class="drop-zone" data-correct="tierra"></div> es la capa más exterior.
                </div>

                <button class="check-btn" onclick="checkActivity1()">Comprobar Respuestas</button>
                <button class="reset-btn" onclick="resetActivity1()">Reiniciar</button>
                
                <div class="feedback" id="feedback1"></div>
            </div>
        </div>

        <!-- Actividad 2: Escribir Palabras -->
        <div id="actividad2" class="section content-section">
            <h2>Actividad 2: Escribe las Palabras Correctas</h2>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill2"></div>
            </div>
            <div class="score" id="scoreDisplay2">Puntuación: 0/7</div>

            <div class="question-container">
                <div class="question">Completa las frases escribiendo la palabra correcta</div>

                <div class="sentence">
                    1. El radio de la Tierra es de <input type="text" class="input-box" id="input1" data-answer="6370"> km.
                </div>

                <div class="sentence">
                    2. La mayoría de los continentes están en el hemisferio <input type="text" class="input-box" id="input2" data-answer="norte">.
                </div>

                <div class="sentence">
                    3. El agujero más profundo hecho por el ser humano mide <input type="text" class="input-box" id="input3" data-answer="12"> km.
                </div>

                <div class="sentence">
                    4. El método indirecto estudia las ondas <input type="text" class="input-box" id="input4" data-answer="sísmicas">.
                </div>

                <div class="sentence">
                    5. El <input type="text" class="input-box" id="input5" data-answer="manto"> llega hasta los 2.900 km de profundidad.
                </div>

                <div class="sentence">
                    6. El núcleo es el <input type="text" class="input-box" id="input6" data-answer="corazón"> de la Tierra.
                </div>

                <div class="sentence">
                    7. El núcleo está compuesto principalmente de <input type="text" class="input-box" id="input7" data-answer="hierro"> y níquel.
                </div>

                <button class="check-btn" onclick="checkActivity2()">Comprobar Respuestas</button>
                <button class="reset-btn" onclick="resetActivity2()">Reiniciar</button>
                
                <div class="feedback" id="feedback2"></div>
            </div>
        </div>

        <!-- Actividad 3: Preguntas con Opciones -->
        <div id="actividad3" class="section content-section">
            <h2>Actividad 3: Preguntas con Opciones</h2>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill3"></div>
            </div>
            <div class="score" id="scoreDisplay3">Puntuación: 0/8</div>

            <div class="question-container">
                <div class="question">Pregunta 1: ¿Qué porcentaje de la Tierra cubren los océanos?</div>
                <div style="margin: 20px 0;">
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q1" value="30"> 30%
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q1" value="50"> 50%
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q1" value="70"> 70%
                    </label>
                </div>
            </div>

            <div class="question-container">
                <div class="question">Pregunta 2: ¿Cuál tiene más espesor?</div>
                <div style="margin: 20px 0;">
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q2" value="continental"> Corteza continental
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q2" value="oceanica"> Corteza oceánica
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q2" value="igual"> Tienen el mismo espesor
                    </label>
                </div>
            </div>

            <div class="question-container">
                <div class="question">Pregunta 3: ¿Qué roca es típica de la corteza continental?</div>
                <div style="margin: 20px 0;">
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q3" value="granito"> Granito
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q3" value="basalto"> Basalto
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q3" value="hierro"> Hierro
                    </label>
                </div>
            </div>

            <div class="question-container">
                <div class="question">Pregunta 4: ¿Qué roca es típica de la corteza oceánica?</div>
                <div style="margin: 20px 0;">
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q4" value="granito"> Granito
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q4" value="basalto"> Basalto
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q4" value="hierro"> Hierro
                    </label>
                </div>
            </div>

            <div class="question-container">
                <div class="question">Pregunta 5: ¿El manto está formado por rocas sólidas?</div>
                <div style="margin: 20px 0;">
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q5" value="si"> Sí, rocas sólidas
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q5" value="no"> No, es líquido
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q5" value="gas"> No, es gas
                    </label>
                </div>
            </div>

            <div class="question-container">
                <div class="question">Pregunta 6: ¿En qué estado está el núcleo externo?</div>
                <div style="margin: 20px 0;">
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q6" value="solido"> Sólido
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q6" value="liquido"> Líquido
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q6" value="gaseoso"> Gaseoso
                    </label>
                </div>
            </div>

            <div class="question-container">
                <div class="question">Pregunta 7: ¿En qué estado está el núcleo interno?</div>
                <div style="margin: 20px 0;">
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q7" value="solido"> Sólido
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q7" value="liquido"> Líquido
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q7" value="gaseoso"> Gaseoso
                    </label>
                </div>
            </div>

            <div class="question-container">
                <div class="question">Pregunta 8: ¿Qué tipo de método estudia las ondas sísmicas?</div>
                <div style="margin: 20px 0;">
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q8" value="directo"> Método directo
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q8" value="indirecto"> Método indirecto
                    </label>
                    <label style="display: block; padding: 15px; margin: 10px 0; background: white; border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; font-size: 1.1em;">
                        <input type="radio" name="q8" value="erosion"> Erosión
                    </label>
                </div>
            </div>

            <button class="check-btn" onclick="checkActivity3()">Comprobar Respuestas</button>
            <button class="reset-btn" onclick="resetActivity3()">Reiniciar</button>
            
            <div class="feedback" id="feedback3"></div>
        </div>
    </div>

    <script>
        // Variables globales
        let activity1Complete = false;
        let activity2Complete = false;
        let activity3Complete = false;

        // Navegación entre secciones
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            document.getElementById(sectionId).classList.add('active');
            
            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        // Configurar drag and drop
        document.addEventListener('DOMContentLoaded', function() {
            setupDragAndDrop();
        });

        function setupDragAndDrop() {
            const pictograms = document.querySelectorAll('.pictogram');
            const dropZones = document.querySelectorAll('.drop-zone');

            pictograms.forEach(pictogram => {
                pictogram.addEventListener('dragstart', handleDragStart);
                pictogram.addEventListener('dragend', handleDragEnd);
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });
        }

        function handleDragStart(e) {
            e.dataTransfer.setData('answer', e.currentTarget.dataset.answer);
            e.dataTransfer.setData('html', e.currentTarget.querySelector('img').outerHTML);
            e.currentTarget.classList.add('dragging');
        }

        function handleDragEnd(e) {
            e.currentTarget.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.preventDefault();
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.add('drag-over');
            }
        }

        function handleDragLeave(e) {
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.remove('drag-over');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            const data = e.dataTransfer.getData('answer');
            const html = e.dataTransfer.getData('html');
            const dropZone = e.target.closest('.drop-zone');
            
            if (dropZone) {
                dropZone.classList.remove('drag-over');
                dropZone.innerHTML = html;
                dropZone.dataset.placed = data;
            }
        }

        // Actividad 1: Verificar pictogramas
        function checkActivity1() {
            const dropZones = document.querySelectorAll('#actividad1 .drop-zone');
            let correct = 0;
            let total = dropZones.length;
            let allFilled = true;

            dropZones.forEach(zone => {
                const correctAnswer = zone.dataset.correct;
                const placedAnswer = zone.dataset.placed;

                if (!placedAnswer) {
                    allFilled = false;
                    zone.classList.remove('correct', 'incorrect');
                    return;
                }

                if (placedAnswer === correctAnswer) {
                    zone.classList.add('correct');
                    zone.classList.remove('incorrect');
                    correct++;
                } else {
                    zone.classList.add('incorrect');
                    zone.classList.remove('correct');
                }
            });

            const feedback = document.getElementById('feedback1');
            const progressFill = document.getElementById('progressFill1');
            const scoreDisplay = document.getElementById('scoreDisplay1');
            const percentage = Math.round((correct / total) * 100);

            progressFill.style.width = percentage + '%';
            scoreDisplay.textContent = `Puntuación: ${correct}/${total} (${percentage}%)`;

            if (!allFilled) {
                feedback.className = 'feedback error';
                feedback.innerHTML = '⚠️ Debes completar todas las frases antes de comprobar.';
                feedback.style.display = 'block';
                activity1Complete = false;
            } else if (correct === total) {
                feedback.className = 'feedback success';
                feedback.innerHTML = '🎉 ¡PERFECTO! Has completado correctamente todas las frases. ¡Excelente trabajo!<br>Ahora puedes pasar a la Actividad 2.';
                feedback.style.display = 'block';
                activity1Complete = true;
                playSuccessSound();
            } else {
                feedback.className = 'feedback error';
                feedback.innerHTML = `❌ Tienes ${total - correct} respuesta(s) incorrecta(s).<br><strong>Debes corregir los errores y volver a intentarlo hasta que todas estén correctas.</strong><br>Revisa las frases marcadas en rojo.`;
                feedback.style.display = 'block';
                activity1Complete = false;
            }
        }

        function resetActivity1() {
            const dropZones = document.querySelectorAll('#actividad1 .drop-zone');
            const feedback = document.getElementById('feedback1');
            const progressFill = document.getElementById('progressFill1');
            const scoreDisplay = document.getElementById('scoreDisplay1');

            dropZones.forEach(zone => {
                zone.innerHTML = '';
                zone.classList.remove('correct', 'incorrect', 'drag-over');
                delete zone.dataset.placed;
            });

            feedback.style.display = 'none';
            progressFill.style.width = '0%';
            scoreDisplay.textContent = 'Puntuación: 0/7';
            activity1Complete = false;
        }

        // Actividad 2: Verificar palabras escritas
        function checkActivity2() {
            let correct = 0;
            let total = 7;
            let allFilled = true;

            for (let i = 1; i <= total; i++) {
                const input = document.getElementById(`input${i}`);
                const userAnswer = input.value.trim().toLowerCase();
                const correctAnswer = input.dataset.answer.toLowerCase();

                if (!userAnswer) {
                    allFilled = false;
                    input.classList.remove('correct', 'incorrect');
                    continue;
                }

                // Normalizar respuestas (quitar acentos para comparación)
                const normalizedUser = userAnswer.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
                const normalizedCorrect = correctAnswer.normalize("NFD").replace(/[\u0300-\u036f]/g, "");

                if (normalizedUser === normalizedCorrect) {
                    input.classList.add('correct');
                    input.classList.remove('incorrect');
                    correct++;
                } else {
                    input.classList.add('incorrect');
                    input.classList.remove('correct');
                }
            }

            const feedback = document.getElementById('feedback2');
            const progressFill = document.getElementById('progressFill2');
            const scoreDisplay = document.getElementById('scoreDisplay2');
            const percentage = Math.round((correct / total) * 100);

            progressFill.style.width = percentage + '%';
            scoreDisplay.textContent = `Puntuación: ${correct}/${total} (${percentage}%)`;

            if (!allFilled) {
                feedback.className = 'feedback error';
                feedback.innerHTML = '⚠️ Debes completar todas las frases antes de comprobar.';
                feedback.style.display = 'block';
                activity2Complete = false;
            } else if (correct === total) {
                feedback.className = 'feedback success';
                feedback.innerHTML = '🎉 ¡PERFECTO! Has completado correctamente todas las frases. ¡Excelente trabajo!<br>Ahora puedes pasar a la Actividad 3.';
                feedback.style.display = 'block';
                activity2Complete = true;
                playSuccessSound();
            } else {
                feedback.className = 'feedback error';
                feedback.innerHTML = `❌ Tienes ${total - correct} respuesta(s) incorrecta(s).<br><strong>Debes corregir los errores y volver a intentarlo hasta que todas estén correctas.</strong><br>Revisa las palabras marcadas en rojo y verifica la ortografía.`;
                feedback.style.display = 'block';
                activity2Complete = false;
            }
        }

        function resetActivity2() {
            const feedback = document.getElementById('feedback2');
            const progressFill = document.getElementById('progressFill2');
            const scoreDisplay = document.getElementById('scoreDisplay2');

            for (let i = 1; i <= 7; i++) {
                const input = document.getElementById(`input${i}`);
                input.value = '';
                input.classList.remove('correct', 'incorrect');
            }

            feedback.style.display = 'none';
            progressFill.style.width = '0%';
            scoreDisplay.textContent = 'Puntuación: 0/7';
            activity2Complete = false;
        }

        // Actividad 3: Verificar preguntas de opción múltiple
        function checkActivity3() {
            const answers = {
                q1: '70',
                q2: 'continental',
                q3: 'granito',
                q4: 'basalto',
                q5: 'si',
                q6: 'liquido',
                q7: 'solido',
                q8: 'indirecto'
            };

            let correct = 0;
            let total = 8;
            let allAnswered = true;

            // Verificar cada pregunta
            for (let i = 1; i <= total; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                const labels = document.querySelectorAll(`input[name="q${i}"]`);
                
                // Resetear estilos
                labels.forEach(input => {
                    input.parentElement.style.borderColor = '#e0e0e0';
                    input.parentElement.style.background = 'white';
                });

                if (!selected) {
                    allAnswered = false;
                    continue;
                }

                if (selected.value === answers[`q${i}`]) {
                    correct++;
                    selected.parentElement.style.borderColor = '#4caf50';
                    selected.parentElement.style.background = '#c8e6c9';
                } else {
                    selected.parentElement.style.borderColor = '#f44336';
                    selected.parentElement.style.background = '#ffcdd2';
                    
                    // Marcar la respuesta correcta en verde
                    labels.forEach(input => {
                        if (input.value === answers[`q${i}`]) {
                            input.parentElement.style.borderColor = '#4caf50';
                            input.parentElement.style.background = '#e8f5e8';
                        }
                    });
                }
            }

            const feedback = document.getElementById('feedback3');
            const progressFill = document.getElementById('progressFill3');
            const scoreDisplay = document.getElementById('scoreDisplay3');
            const percentage = Math.round((correct / total) * 100);

            progressFill.style.width = percentage + '%';
            scoreDisplay.textContent = `Puntuación: ${correct}/${total} (${percentage}%)`;

            if (!allAnswered) {
                feedback.className = 'feedback error';
                feedback.innerHTML = '⚠️ Debes responder todas las preguntas antes de comprobar.';
                feedback.style.display = 'block';
                activity3Complete = false;
            } else if (correct === total) {
                feedback.className = 'feedback success';
                feedback.innerHTML = '🎉 ¡PERFECTO! Has respondido correctamente todas las preguntas. ¡Excelente trabajo!<br>¡FELICIDADES! Has completado todas las actividades.';
                feedback.style.display = 'block';
                activity3Complete = true;
                playSuccessSound();
            } else {
                feedback.className = 'feedback error';
                feedback.innerHTML = `❌ Tienes ${total - correct} respuesta(s) incorrecta(s).<br><strong>Debes corregir los errores y volver a intentarlo hasta que todas estén correctas.</strong><br>Las respuestas incorrectas están marcadas en rojo y las correctas en verde.`;
                feedback.style.display = 'block';
                activity3Complete = false;
            }
        }

        function resetActivity3() {
            const feedback = document.getElementById('feedback3');
            const progressFill = document.getElementById('progressFill3');
            const scoreDisplay = document.getElementById('scoreDisplay3');

            // Desmarcar todas las opciones
            for (let i = 1; i <= 8; i++) {
                const radios = document.querySelectorAll(`input[name="q${i}"]`);
                radios.forEach(radio => {
                    radio.checked = false;
                    radio.parentElement.style.borderColor = '#e0e0e0';
                    radio.parentElement.style.background = 'white';
                });
            }

            feedback.style.display = 'none';
            progressFill.style.width = '0%';
            scoreDisplay.textContent = 'Puntuación: 0/8';
            activity3Complete = false;
        }

        // Función para reproducir sonido de éxito
        function playSuccessSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
                oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.3);
            } catch (error) {
                console.log('Audio no disponible');
            }
        }
    </script>
</body>
</html>